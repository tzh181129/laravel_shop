
<div class="layui-form" lay-filter="layuiadmin-form-useradmin" style="padding: 20px 0 0 0;">
  <script type="text/html" template>
    <div class="layui-form-item">
      <label class="layui-form-label">轮播图</label>
      <div class="layui-input-inline">
        <div class="layui-upload-drag" id="test10">
          {{# if (!d.params.img_path) { }}
          <i class="layui-icon"></i>
          <p>点击上传，或将文件拖拽到此处</p>
          {{# } else { }}
          <img src="{{d.params.show_path}}" style="width: 100%;height: 100%;">
          {{# } }}
        </div>
        <input type="hidden" name="img_path" id="img_path" value="{{d.params.img_path}}">
      </div>
    </div>
  </script>
  <div class="layui-form-item">
    <label class="layui-form-label">轮播排序</label>
    <div class="layui-input-inline">
      <script type="text/html" template>
        <input type="text" name="sort" value="{{d.params.sort}}" placeholder="请输入轮播排序" autocomplete="off" class="layui-input">
      </script>
    </div>
  </div>
  <script type="text/html" template>
    <input type="hidden" name="id" value="{{d.params.id}}" lay-verify="required" autocomplete="off" class="layui-input">
  </script>
  <div class="layui-form-item">
    <label class="layui-form-label"></label>
    <div class="layui-input-inline">
      <input type="button" lay-submit lay-filter="LAY-user-front-submit" value="确认" class="layui-btn" style="width: 100%;">
    </div>
  </div>
</div>
<script>
  layui.use(['form','upload'], function(){
        var $ = layui.$
        ,upload=layui.upload
        ,form = layui.form;

    //拖拽上传
    upload.render({
      elem: '#test10'
      ,url: '/upload_good?type=1' //改成您自己的上传接口
      ,accept: 'images'
      ,acceptMime: 'image/*'
      ,done: function(res){
        layer.msg('上传成功');
        $('#test10').html('<img src="'+res.show_path+'" style="width: 100%;height: 100%;">');
        $('#img_path').val(res.path);
      }
    });
  })
</script>
